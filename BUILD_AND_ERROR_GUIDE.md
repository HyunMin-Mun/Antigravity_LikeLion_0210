# 워크플로우 빌드 및 예외 처리 가이드

이 문서는 로컬 환경에서의 빌드 방법, 안정적인 배포를 위한 체크리스트, 그리고 발생 가능한 실패 사례와 예외 케이스를 정리합니다.

---

## 🛠 1. 로컬 개발 및 빌드 방법

### 개발 모드 실행
```bash
npm install     # 최초 의존성 설치
npm run dev     # 로컬 개발 서버 실행 (localhost:5173)
```

### 프로덕션 빌드 절차
```bash
npm run build   # TypeScript 타입 체크 및 정적 파일 생성 (dist/ 폴더)
npm run preview # 빌드된 결과물 로컬 미리보기
```

---

## ✅ 2. 빌드 및 배포 체크리스트

현황 파악과 안정적인 운영을 위한 체크리스트입니다. (`[x]`는 현재 해결/완료된 항목입니다.)

- [x] **의존성 무결성**: Firebase를 포함한 모든 패키지가 정상적으로 설치되었는가 (`npm install`)
- [x] **Firebase 초기화**: `src/lib/firebase.ts`를 통해 앱이 정상적으로 초기화되는가
- [x] **로컬 서버 정상 작동**: 개발 서버가 포트 충돌 없이 실행되는가 (`npm run dev`)
- [x] **핵심 CRUD 로직**: 업무 생성, 수정, 삭제가 메모리 내에서 오류 없이 동작하는가 (Firestore 연동 작업 중)
- [x] **UI/UX 한글화**: 모든 텍스트가 한국어이며 잘림 현상이 없는가
- [ ] **프로덕션 빌드 성공**: `npm run build` 시 타입 에러 없이 `dist` 폴더가 생성되는가
- [ ] **API 키 보안**: API_KEY가 환경 변수(`.env`)로 분리되어 관리되는가 (현재 코드 내 존재)
- [ ] **성능 최적화**: 대량의 업무 데이터(100개 이상) 로딩 시 브라우저 렉이 없는가

---

## 🚨 3. 실패 사례 및 예외 케이스 (Failure Cases)

과거 발생했거나 발생 가능한 문제들과 그 해결책입니다.

### Case 1: 빌드 시 TypeScript 타입 에러
- **현상**: `npm run build` 실행 시 `tsc` 단계에서 에러 발생 및 빌드 중단.
- **원인**: 인터페이스 불일치 또는 엄격한 타입 체크 위반.
- **해결**: 타입 정의 파일과 실제 데이터 구조 동기화 (최근 해결 완료).

### Case 2: 포트 5173 점유 문제
- **현상**: `vite` 서버 실행 시 "Port 5173 is already in use" 메시지 출력.
- **예외 처리**: 시스템이 자동으로 포트를 5174 등으로 변경하여 실행.
- **권장**: 필요 없는 프로세스 종료 또는 `vite.config.ts`에서 포트 고정.

### Case 3: API 응답 실패 (Gemini API)
- **현상**: 네트워크 문제 또는 유효하지 않은 API 키로 인해 AI 분석 기능 작동 안 함.
- **예외 처리**: UI에 "분석 실패" 메시지를 표시하고 기본(Mock) 데이터를 사용하여 사용자 경험 유지.

### Case 4: 브라우저 캐시 및 상태 초기화
- **현상**: 브라우저를 새로고침하면 등록했던 업무 데이터가 모두 사라짐.
- **설명**: 현재 In-memory 상태 관리 방식의 정상적인 특성임.
- **예외 처리**: 중요 데이터 유실 방지를 위해 로그아웃 전 경고창 노출 고려 중.

---

## 💡 4. 운영 팁
- **에러 로그 확인**: 브라우저 개발자 도구(F12)의 Console 탭을 상시 확인하십시오.
- **Lint 체크**: `npm run lint`를 통해 코드 컨벤션과 잠재적 버그를 사전 예방할 수 있습니다.
